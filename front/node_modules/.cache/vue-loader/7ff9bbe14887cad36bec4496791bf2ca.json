{"remainingRequest":"C:\\Projetos22\\Champz\\Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projetos22\\Champz\\Front\\src\\views\\dashboard\\draft\\Draft.vue?vue&type=style&index=0&id=3ae09a24&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Projetos22\\Champz\\Front\\src\\views\\dashboard\\draft\\Draft.vue","mtime":1599941737491},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1596475863666},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1596475866724},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\postcss-loader\\src\\index.js","mtime":1596475866122},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1596476009412},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1596476014775},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596475673821},{"path":"C:\\Projetos22\\Champz\\Front\\node_modules\\vue-loader\\lib\\index.js","mtime":1596475866724}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouY2hhbXB6Rm9udCB7DQogIGZvbnQtc2l6ZTogMThweDsNCiAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgZm9udC1mYW1pbHk6IHN5c3RlbS11aTsNCn0NCg=="},{"version":3,"sources":["Draft.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqRA;AACA;AACA;AACA;AACA","file":"Draft.vue","sourceRoot":"src/views/dashboard/draft","sourcesContent":["<template>\r\n  <v-container v-if=\"!loading\">\r\n    <v-row>\r\n      <v-card class=\"mx-4\" style=\"width: 100%\">\r\n        <v-card-title>\r\n          <h3>Set budget</h3>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-text-field class=\"mt-2\" min=\"0\" v-model=\"genericBudget\"></v-text-field>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-row>\r\n    <v-row>\r\n      <v-card class=\"mx-4\" style=\"width: 100%\">\r\n        <v-card-title>\r\n          <h3>List of participants</h3>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"green\" fab @click=\"open_participant_dialog(null)\">\r\n            <v-icon large>mdi-plus</v-icon>\r\n          </v-btn>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-simple-table>\r\n            <template v-slot:default>\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">\r\n                    <b>Name</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Budget</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Team</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Action</b>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(participant, i) in participants\" :key=\"i\">\r\n                  <td class=\"champzFont\">{{participant.id}}</td>\r\n                  <td class=\"champzFont\">{{participant.name}}</td>\r\n                  <td class=\"champzFont\">${{participant.budget}}</td>\r\n                  <td class=\"champzFont\">\r\n                    <!-- <img\r\n                      style=\"width:30px;\"\r\n                      :src=\"getPlayerTeam(getParticipantTeam(participant.id).id).image_link\"\r\n                    />-->\r\n                    {{getParticipantTeam(participant.id).name}}\r\n                  </td>\r\n                  <td>\r\n                    <v-btn color=\"blue\" small fab @click=\"open_participant_dialog(participant)\">\r\n                      <v-icon>mdi-pencil</v-icon>\r\n                    </v-btn>\r\n                    <v-btn\r\n                      color=\"red\"\r\n                      class=\"ml-2\"\r\n                      small\r\n                      fab\r\n                      @click=\"deleteParticipant(participant.id)\"\r\n                    >\r\n                      <v-icon>mdi-trash-can</v-icon>\r\n                    </v-btn>\r\n                    <v-btn\r\n                      color=\"purple\"\r\n                      class=\"ml-2\"\r\n                      small\r\n                      fab\r\n                      @click=\"currentParticipant=participant;getPlayersByTeam(getParticipantTeam(participant.id).id);showParticipantTeamModal = true\"\r\n                    >\r\n                      <v-icon>mdi-eye</v-icon>\r\n                    </v-btn>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </template>\r\n          </v-simple-table>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-row>\r\n\r\n    <v-row>\r\n      <v-card class=\"mx-4\" style=\"width: 100%\">\r\n        <v-card-title>\r\n          <h3>List of Players</h3>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-btn-toggle class=\"mx-8 mt-2\" v-model=\"toggle_exclusive\" rounded>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=keepers\">Goalkeepers</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=centerBacks\">Center Backs</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=fullBacks\">Full Backs</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=defensiveMids\">Defensive Midfielders</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=attackingMids\">Ofensive Midfielders</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=wingers\">Wingers</v-btn>\r\n            <v-btn color=\"purple\" @click=\"selectedPosition=attackers\">Attackers</v-btn>\r\n          </v-btn-toggle>\r\n\r\n          <v-simple-table class=\"mt-4\">\r\n            <template v-slot:default>\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">\r\n                    <b>Player</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Overall</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Position</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Owner</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Price</b>\r\n                  </th>\r\n                  <th scope=\"col\">\r\n                    <b>Action</b>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(player, i) in selectedPosition\" :key=\"i\">\r\n                  <td class=\"champzFont\">{{player.id}}</td>\r\n                  <td class=\"champzFont\">\r\n                    <!-- <img class=\"mb-2\" style=\"width:30px;\" :src=\"getPlayerNation(player.nation).image_link\" />\r\n                    <img class=\"ml-1\" style=\"width:30px;\" :src=\"getPlayerTeam(player.team_origin).image_link\" />-->\r\n                    <span>{{player.name}}</span>\r\n                  </td>\r\n                  <td class=\"champzFont\">{{player.overall}}</td>\r\n                  <td class=\"champzFont\">{{player.specific_position}}</td>\r\n                  <td class=\"champzFont\">\r\n                    <!-- <img\r\n                      v-show=\"player.team_participant!=null\"\r\n                      style=\"width:30px;\"\r\n                      :src=\"getPlayerTeam(player.team_participant).image_link\"\r\n                    />-->\r\n                    {{getPlayerOwner(player.team_participant)}}\r\n                  </td>\r\n                  <td class=\"champzFont\">${{player.value}}</td>\r\n                  <td>\r\n                    <v-btn color=\"green\" fab @click=\"getPlayer(player)\">\r\n                      <v-icon large>mdi-cash-plus</v-icon>\r\n                    </v-btn>\r\n                    <v-btn color=\"red\" fab class=\"ml-2\" @click=\"removeBuy(player.id)\">\r\n                      <v-icon large>mdi-cash-minus</v-icon>\r\n                    </v-btn>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </template>\r\n          </v-simple-table>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-row>\r\n\r\n    <!-- <h3>List of Players</h3>\r\n      \r\n      <div class=\"container\">\r\n        <button\r\n          class=\"btn btn-outline-info\"\r\n          v-on:click=\"generateTransfersFile()\"\r\n        >Generate Transfers File</button>\r\n        <button\r\n          class=\"btn btn-outline-info\"\r\n          v-on:click=\"generatePlayersFile()\"\r\n        >Generate Players Excel</button>\r\n        <button\r\n          class=\"btn btn-outline-info\"\r\n          v-on:click=\"generateTeamsFile()\"\r\n        >Generate Participants Teams Excel</button>\r\n        <a style=\"float: right;\" class=\"btn btn-success\" :href=\"'/webapp/matches'\">Matches</a>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <br />\r\n    <br />-->\r\n    <!-- Add Participant Modal -->\r\n    <v-dialog v-model=\"addParticipantModal\" width=\"40%\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <h5>ADD PARTICIPANT</h5>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <form @submit.prevent=\"addParticipant()\">\r\n            <v-text-field label=\"Name\" v-model=\"newParticipant.name\"></v-text-field>\r\n            <v-combobox\r\n              v-model=\"newParticipant.team\"\r\n              :items=\"plTeams\"\r\n              item-text=\"name\"\r\n              label=\"Team\"\r\n              outlined\r\n              dense\r\n            ></v-combobox>\r\n            <v-card-actions>\r\n              <v-btn color=\"red\" @click=\"addParticipantModal = false\">Cancel</v-btn>\r\n              <v-btn type=\"submit\" color=\"green\">Save changes</v-btn>\r\n            </v-card-actions>\r\n          </form>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- Buy Player Modal -->\r\n    <v-dialog v-model=\"buyPlayerModal\" width=\"40%\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <h5>BUY PLAYER</h5>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <h4>{{currentPlayer.name}}</h4>\r\n          <form v-on:submit.prevent=\"buyPlayer()\">\r\n            <v-text-field type=\"number\" v-model=\"currentPlayer.value\" label=\"Value\" prefix=\"$\"></v-text-field>\r\n            <v-combobox\r\n              v-model=\"currentPlayer.team_participant\"\r\n              :items=\"participants\"\r\n              item-text=\"name\"\r\n              label=\"Participant\"\r\n              outlined\r\n              dense\r\n            ></v-combobox>\r\n            <v-card-actions>\r\n              <v-btn color=\"red\" @click=\"buyPlayerModal = false\">Cancel</v-btn>\r\n              <v-btn type=\"submit\" color=\"green\">Save changes</v-btn>\r\n            </v-card-actions>\r\n          </form>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <!-- Show participant team Modal -->\r\n    <v-dialog v-model=\"showParticipantTeamModal\" width=\"40%\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <h5>{{currentParticipant.name}}'s Team</h5>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-simple-table>\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Overall</th>\r\n                <th scope=\"col\">Price</th>\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(player, i) in selectedTeam\" :key=\"i\">\r\n                <th scope=\"row\">{{player.id}}</th>\r\n                <td>{{player.name}}</td>\r\n                <td>{{player.overall}}</td>\r\n                <td>{{player.value}}</td>\r\n                <td>\r\n                  <v-btn\r\n                    color=\"red\"\r\n                    @click=\"removeBuy(player.id);getPlayersByTeam(getParticipantTeam(currentParticipant.id).id);\"\r\n                  >\r\n                    Remove\r\n                    Buy\r\n                  </v-btn>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </v-simple-table>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n  <v-container v-else>\r\n    <v-progress-circular style=\"margin-left: 50%\" indeterminate size=\"70\" color=\"primary\"></v-progress-circular>\r\n  </v-container>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.champzFont {\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  font-family: system-ui;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Service from \"@/services/Service\";\r\nexport default {\r\n  name: \"Draft\",\r\n  data: () => ({\r\n    service: new Service(),\r\n    toggle_exclusive: undefined,\r\n    addParticipantModal: false,\r\n    buyPlayerModal: false,\r\n    showParticipantTeamModal: false,\r\n    participants: [],\r\n    genericBudget: 250,\r\n    teams: [],\r\n    edit: false,\r\n    nations: [],\r\n    positions: [],\r\n    leagues: [],\r\n    selectedPosition: [],\r\n    selectedTeam: [],\r\n    keepers: [],\r\n    fullBacks: [],\r\n    centerBacks: [],\r\n    defensiveMids: [],\r\n    attackingMids: [],\r\n    wingers: [],\r\n    attackers: [],\r\n    plTeams: [],\r\n    loading: false,\r\n    currentPlayer: {},\r\n    currentParticipant: {},\r\n    selectedTeam: null,\r\n    newParticipant: { name: null, budget: null, team: null },\r\n  }),\r\n  mounted: function () {\r\n    this.getParticipants();\r\n    this.getLeagues();\r\n    this.getTeams();\r\n    this.getNations();\r\n    this.getPositions();\r\n  },\r\n  methods: {\r\n    select_cbx_item: function(id, array) {\r\n      var i;\r\n      for(i=0;i<array.length;i++)\r\n      {\r\n        if(array[i].id == id)\r\n        {\r\n          return array[i];\r\n        }\r\n      }\r\n    },\r\n    open_participant_dialog: function (participant) {\r\n      if (participant == null) {\r\n        this.edit = false;\r\n        this.newParticipant = { name: null, budget: null, team: null };\r\n        this.addParticipantModal = true;\r\n      } else {\r\n        this.newParticipant = participant;\r\n        this.edit = true;\r\n        this.newParticipant.team = this.getParticipantTeam(participant.id);\r\n        this.addParticipantModal = true;\r\n      }\r\n    },\r\n    getParticipants: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/participant/\")\r\n        .then((response) => {\r\n          this.participants = response;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(\"erro\", err);\r\n        });\r\n    },\r\n    getTeams: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/team/\")\r\n        .then((response) => {\r\n          this.teams = response;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getNations: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/nation/\")\r\n        .then((response) => {\r\n          this.nations = response;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getPositions: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/position/\")\r\n        .then((response) => {\r\n          this.positions = response;\r\n          this.getPlayersByPosition(response[6].id);\r\n          this.getPlayersByPosition(response[5].id);\r\n          this.getPlayersByPosition(response[4].id);\r\n          this.getPlayersByPosition(response[3].id);\r\n          this.getPlayersByPosition(response[2].id);\r\n          this.getPlayersByPosition(response[1].id);\r\n          this.getPlayersByPosition(response[0].id);\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    compare: function (a, b) {\r\n      if (a.overall - b.overall == 0) {\r\n        return a.pace - b.pace;\r\n      } else {\r\n        return a.overall - b.overall;\r\n      }\r\n    },\r\n    selectPlayers: function (a, b) {\r\n      return (\r\n        (a.overall * 100 + a.likes) / 101 - (b.overall * 100 + b.likes) / 101\r\n      );\r\n    },\r\n    filterPlayers: function (array, n) {\r\n      array.sort(this.selectPlayers);\r\n      array.reverse();\r\n      array = array.slice(0, Math.round(n * this.participants.length));\r\n      array.sort(this.compare);\r\n      array.reverse();\r\n      return array;\r\n    },\r\n    getPlayersByPosition: function (id_position) {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/player?position=\" + id_position)\r\n        .then((response) => {\r\n          if (id_position === this.positions[0].id) {\r\n            this.keepers = response;\r\n            this.keepers = this.filterPlayers(this.keepers, 1.5);\r\n            this.selectedPosition = this.keepers;\r\n          } else if (id_position === this.positions[1].id) {\r\n            this.centerBacks = response;\r\n            this.centerBacks = this.filterPlayers(this.centerBacks, 3);\r\n            this.selectedPosition =  this.centerBacks;\r\n          } else if (id_position === this.positions[2].id) {\r\n            this.fullBacks = response;\r\n            this.fullBacks = this.filterPlayers(this.fullBacks, 3);\r\n            this.selectedPosition =  this.fullBacks;\r\n          } else if (id_position === this.positions[3].id) {\r\n            this.defensiveMids = response;\r\n            this.defensiveMids = this.filterPlayers(this.defensiveMids, 3);\r\n            this.selectedPosition =  this.defensiveMids;\r\n          } else if (id_position === this.positions[4].id) {\r\n            this.attackingMids = response;\r\n            this.attackingMids = this.filterPlayers(this.attackingMids, 1.5);\r\n            this.selectedPosition =  this.attackingMids;\r\n          } else if (id_position === this.positions[5].id) {\r\n            this.wingers = response;\r\n            this.wingers = this.filterPlayers(this.wingers, 2.5);\r\n            this.selectedPosition =  this.wingers;\r\n          } else if (id_position === this.positions[6].id) {\r\n            this.attackers = response;\r\n            this.attackers = this.filterPlayers(this.attackers, 2);\r\n            this.selectedPosition =  this.attackers;\r\n          }\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getPlayersByTeam: function (id_team) {\r\n      this.loading = true;\r\n      return this.service\r\n        .getRequest(\"/api/player?team_participant=\" + id_team)\r\n        .then((response) => {\r\n          this.selectedTeam = response;\r\n          this.loading = false;\r\n          return response;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getPLTeams: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/team?league=\" + this.leagues[1].id)\r\n        .then((response) => {\r\n          this.plTeams = response;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getLeagues: function () {\r\n      this.loading = true;\r\n      this.service\r\n        .getRequest(\"/api/league/\")\r\n        .then((response) => {\r\n          this.leagues = response;\r\n          this.getPLTeams();\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    getPlayerTeam: function (id) {\r\n      var obj = {};\r\n      this.teams.forEach((element) => {\r\n        if (element.id === id) {\r\n          obj = element;\r\n          return obj;\r\n        }\r\n      });\r\n      return obj;\r\n    },\r\n    getPlayerNation: function (id) {\r\n      var obj = {};\r\n      this.nations.forEach((element) => {\r\n        if (element.id === id) {\r\n          obj = element;\r\n          return obj;\r\n        }\r\n      });\r\n      return obj;\r\n    },\r\n    getPlayer: function (player) {\r\n      // this.currentPlayer = player;\r\n      this.currentPlayer = Object.assign({}, player);\r\n      if(this.currentPlayer.team_participant != null)\r\n      {\r\n        this.currentPlayer.team_participant = this.getPlayerTeam(this.currentPlayer.team_participant);\r\n      }\r\n      this.buyPlayerModal = true;\r\n\r\n      // var url = \"/api/player/\" + id + \"/\";\r\n      // this.service\r\n      //   .getRequest(url)\r\n      //   .then((response) => {\r\n      //     this.currentPlayer = response;\r\n      //     console.log(this.currentPlayer);\r\n      //     this.buyPlayerModal = true;\r\n      //     this.loading = false;\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     this.loading = false;\r\n      //     console.log(err);\r\n      //   });\r\n    },\r\n    getPlayerOwner: function (id) {\r\n      // console.log('were in boys');\r\n      var owner, team, name;\r\n      owner = \"\";\r\n      if (id != null) {\r\n        // console.log('hello again');\r\n        this.participants.forEach((element) => {\r\n          team = this.getParticipantTeam(element.id);\r\n          if (team.id === id) {\r\n            name = element.name;\r\n            owner = name;\r\n            return owner;\r\n          }\r\n        });\r\n      }\r\n      return owner;\r\n    },\r\n    getParticipantTeam: function (id) {\r\n      var team = {};\r\n      this.plTeams.forEach((element) => {\r\n        if (element.participant === id) {\r\n          team = element;\r\n          return team;\r\n        }\r\n      });\r\n      return team;\r\n    },\r\n    addParticipant: function () {\r\n      this.loading = true;\r\n      if (!this.edit) {\r\n        this.newParticipant.budget = this.genericBudget;\r\n        this.newParticipant.team = this.newParticipant.team.id;\r\n        this.service\r\n          .postRequest(\"/api/participant/\", this.newParticipant)\r\n          .then((response) => {\r\n            this.getParticipants();\r\n            this.getPLTeams();\r\n            this.getPositions();\r\n            this.loading = false;\r\n            this.newParticipant.name = null;\r\n            this.newParticipant.budget = null;\r\n            this.newParticipant.team = null;\r\n            this.selectedPosition = null;\r\n            this.addParticipantModal = false;\r\n          })\r\n          .catch((err) => {\r\n            this.loading = false;\r\n            console.log(err);\r\n          });\r\n      }\r\n      else\r\n      {\r\n        this.updateParticipant();\r\n      }\r\n    },\r\n    updateParticipant: function () {\r\n      this.loading = true;\r\n      var url = \"/api/participant/\" + this.newParticipant.id + \"/\";\r\n      this.newParticipant.team = this.newParticipant.team.id;\r\n      this.service\r\n        .patchRequest(url, this.newParticipant)\r\n        .then((response) => {\r\n          this.getParticipants();\r\n          this.getPLTeams();\r\n          this.getPositions();\r\n          this.selectedPosition = null;\r\n          this.addParticipantModal = false;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err.body);\r\n        });\r\n    },\r\n    deleteParticipant: function (id) {\r\n      console.log(id);\r\n      this.loading = true;\r\n      var url = \"/api/participant/\" + id + \"/\";\r\n      console.log(url);\r\n      this.service\r\n        .deleteRequest(url)\r\n        .then((response) => {\r\n          this.loading = false;\r\n          this.getParticipants();\r\n          this.getPLTeams();\r\n          this.getPositions();\r\n          this.selectedPosition = [];\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    removeBuy: function (id) {\r\n      this.loading = true;\r\n      var url = \"/api/buy/\" + id;\r\n      this.service\r\n        .postRequest(url, { team_participant: null })\r\n        .then((response) => {\r\n          this.loading = false;\r\n          this.currentPlayer = response;\r\n          this.getPlayersByPosition(this.currentPlayer.position);\r\n          this.getParticipants();\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    buyPlayer: function () {\r\n      this.loading = true;\r\n      this.currentPlayer.team_participant = this.currentPlayer.team_participant.team;\r\n      var url = \"/api/buy/\" + this.currentPlayer.id;\r\n      this.service\r\n        .postRequest(url, this.currentPlayer)\r\n        .then((response) => {\r\n          this.loading = false;\r\n          this.currentPlayer = response;\r\n          this.getPlayersByPosition(this.currentPlayer.position);\r\n          this.getParticipants();\r\n          this.buyPlayerModal = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    generateTransfersFile: function () {\r\n      this.loading = true;\r\n      var url = \"/api/transfers/\";\r\n      this.service\r\n        .postRequest(url)\r\n        .then((response) => {\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    generateTeamsFile: function () {\r\n      this.loading = true;\r\n      var url = \"/api/participants_teams/\";\r\n      this.service\r\n        .postRequest(url)\r\n        .then((response) => {\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    generatePlayersFile: function () {\r\n      this.loading = true;\r\n      var url = \"/api/champz_players/\";\r\n      this.service\r\n        .postRequest(url)\r\n        .then((response) => {\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n"]}]}